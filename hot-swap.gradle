apply plugin: 'eclipse'
apply plugin: 'idea'
apply plugin: 'application'

repositories {
	 mavenCentral()
}

configurations {
    //springloaded
}

dependencies {
    //springloaded group: 'org.springframework', name: 'springloaded', version: '1.2.7.RELEASE'
}

task("setJVMArgs").doLast {
    //applicationDefaultJvmArgs = ["-javaagent:" + configurations.springloaded.files.stream().filter{it.name.contains("spring")}.toArray{new File[1]}[0].getAbsolutePath().replace("\\", "/"), "-noverify"]
}

eclipse {
    classpath {
        defaultOutputDir = file("$buildDir/classes/main/")
    }
}

idea {
    module {
        inheritOutputDirs = false
        outputDir = file("$buildDir/classes/main/")
    }
}
run.dependsOn setJVMArgs
run.dependsOn eclipseClasspath
run.dependsOn ideaModule
